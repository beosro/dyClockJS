/*! dyClockJS | (c) 2016 Yusuf Shakeel | https://github.com/yusufshakeel/dyClockJS */
!function(t,i){"use strict";var o=function(i,o){return"undefined"==typeof i?void t.console.error("target undefined"):("undefined"!=typeof o&&"undefined"!=typeof o.radius&&(o.radius=t.Math.ceil(o.radius),o.radius<40?o.radius=40:o.radius>150&&(o.radius=150)),this.target=i,this.clockOption="undefined"!=typeof o?this.extendSource(o,this.defaults):this.defaults,this.tick=null,this.analogClockLinePrefix=this.target.selector.substring(1),void this.setClockOptionFormat())};o.prototype.defaults={clock:"digital",format:"HH:mm:ss",hand:"hms",radius:150,showdigital:!1},o.prototype.extendSource=function(t,i){var o;for(o in i)t.hasOwnProperty(o)===!1&&(t[o]=i[o]);return t},o.prototype.setClockOptionFormat=function(){var t,i,o={},e=[];e=this.clockOption.format.split(" "),t=e[0].split(":"),i="undefined"!=typeof e[1]?e[1]:!1,"hh"===t[0]?o.hour="12":"HH"===t[0]&&(o.hour="24"),o.showMinutes=!0,o.showSeconds="undefined"!=typeof t[2]&&"ss"===t[2]?!0:!1,this.clockOption.format_time=o,i===!1?this.clockOption.format_showam=!1:(this.clockOption.format_showam=!0,this.clockOption.format_showamvalue="a"===i?["am","pm"]:["AM","PM"])},o.prototype.getTime=function(){var i=new t.Date,o={};return o.hour=i.getHours(),o.minute=i.getMinutes(),o.second=i.getSeconds(),o},o.prototype.getTimeString=function(i,o){var e,n="";switch(o.format_time.hour){case"12":0===i.hour?n="12 ":i.hour>12?(e=i.hour-12,n=10>e?"0"+e:e):n=i.hour<10?"0"+i.hour:i.hour;break;case"24":n=i.hour<10?"0"+i.hour:i.hour;break;default:t.console.error("Invalid format: hour")}return n=i.minute<10?n+" : 0"+i.minute:n+" : "+i.minute,o.format_time.showSeconds===!0&&(n=i.second<10?n+" : 0"+i.second:n+" : "+i.second),o.format_showam===!0&&(n=i.hour>=12?n+" "+o.format_showamvalue[1]:n+" "+o.format_showamvalue[0]),n},o.prototype.start=function(){var i=this;"digital"===this.clockOption.clock?this.tick=t.setInterval(function(){i.runDigitalClock()},1e3):"analog"===this.clockOption.clock&&(this.drawAnalogClock(),this.tick=t.setInterval(function(){i.runAnalogClock()},1e3))},o.prototype.stop=function(){t.clearInterval(this.tick)},o.prototype.runDigitalClock=function(){var t="<div class='dyclock-digital-time'>"+this.getTimeString(this.getTime(),this.clockOption)+"</div>";this.target.html(t)},o.prototype.drawAnalogClock=function(){var i,o=2*this.clockOption.radius,e=o,n=this.clockOption.radius,a=n,s=t.Math.ceil(.65*this.clockOption.radius),r=t.Math.ceil(.3*this.clockOption.radius),c=t.Math.ceil(.1*this.clockOption.radius),l=t.Math.ceil(.9*this.clockOption.radius),h="",d="",u="",p="",f="";f=this.clockOption.showdigital===!0?"<div class='"+this.analogClockLinePrefix+"-time-string' style='text-align: center; margin-top: 15px;'></div>":"<div class='"+this.analogClockLinePrefix+"-time-string' style='display: none; text-align: center; margin-top: 15px;'></div>","undefined"!=typeof this.clockOption.image&&(h="style = 'background: url("+this.clockOption.image+"); background-repeat: no-repeat; background-size: contain;'"),"undefined"!=typeof this.clockOption.hand&&("h"!==this.clockOption.hand[0]&&(d="style = 'display: none'"),"m"!==this.clockOption.hand[1]&&(u="style = 'display: none'"),"s"!==this.clockOption.hand[2]&&(p="style = 'display: none'")),i="<div class='dyclock-analog-time' "+h+"><svg width='"+o+"' height='"+e+"'><line class='"+this.analogClockLinePrefix+"-h-hand dyclock-h-hand' x1='"+n+"' y1='"+a+"' x2='"+n+"' y2='"+s+"' "+d+"/><line class='"+this.analogClockLinePrefix+"-m-hand dyclock-m-hand' x1='"+n+"' y1='"+a+"' x2='"+n+"' y2='"+r+"' "+u+" /><line class='"+this.analogClockLinePrefix+"-s-hand dyclock-s-hand' x1='"+n+"' y1='"+a+"' x2='"+n+"' y2='"+c+"' "+p+" /><line class='"+this.analogClockLinePrefix+"-s-tail dyclock-s-tail' x1='"+n+"' y1='"+a+"' x2='"+n+"' y2='"+l+"' "+p+" /></svg></div>"+f,this.target.html(i)},o.prototype.runAnalogClock=function(){var t=this.getTime(),o=30*(t.hour%12+t.minute/60),e=6*t.minute,n=6*t.second;i("."+this.analogClockLinePrefix+"-h-hand").attr("transform",this.getRotateStr(o)),i("."+this.analogClockLinePrefix+"-m-hand").attr("transform",this.getRotateStr(e)),i("."+this.analogClockLinePrefix+"-s-hand").attr("transform",this.getRotateStr(n)),i("."+this.analogClockLinePrefix+"-s-tail").attr("transform",this.getRotateStr(n+180)),i("."+this.analogClockLinePrefix+"-time-string").html(this.getTimeString(this.getTime(),this.clockOption))},o.prototype.getRotateStr=function(t){var i=(2*this.clockOption.radius,this.clockOption.radius),o=i;return"rotate("+t+", "+i+", "+o+")"},t.dyClock=o}("undefined"!=typeof window?window:this,"undefined"!=typeof jQuery?jQuery:void 0);
